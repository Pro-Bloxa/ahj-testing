{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-testing/./src/js/luhn-algorithm.js","webpack://ahj-testing/./src/js/check-card.js","webpack://ahj-testing/./src/js/chooseCard.js","webpack://ahj-testing/./src/js/app.js","webpack://ahj-testing/./src/index.js"],"sourcesContent":["// Takes a credit card string value and returns true on valid number\nexport default function validCreditCard(value) {\n  // Accept only digits, dashes or spaces\n  if (/[^0-9-\\s]+/.test(value)) return false;\n\n  // The Luhn Algorithm.\n  let nCheck = 0,\n    bEven = false;\n  value = value.replace(/\\D/g, \"\");\n\n  for (var n = value.length - 1; n >= 0; n--) {\n    var cDigit = value.charAt(n),\n      nDigit = parseInt(cDigit, 10);\n\n    if (bEven && (nDigit *= 2) > 9) nDigit -= 9;\n\n    nCheck += nDigit;\n    bEven = !bEven;\n  }\n\n  return nCheck % 10 == 0;\n}\n","export default function checkCard(code) {\n  if (code.startsWith(\"22\")) {\n    return \"mir\";\n  }\n  if (code.startsWith(\"4\")) {\n    return \"visa\";\n  }\n  if (code.startsWith(\"34\") || code.startsWith(\"37\")) {\n    return \"american-express\";\n  }\n  if (code.startsWith(\"60\")) {\n    return \"discover\";\n  }\n  if (code.startsWith(\"31\") || code.startsWith(\"35\")) {\n    return \"jcb\";\n  }\n  if (code.startsWith(\"30\") || code.startsWith(\"36\") || code.startsWith(\"38\")) {\n    return \"diners-club\";\n  }\n  if (\n    code.startsWith(\"51\") ||\n    code.startsWith(\"52\") ||\n    code.startsWith(\"53\") ||\n    code.startsWith(\"54\") ||\n    code.startsWith(\"55\")\n  ) {\n    return \"mastercard\";\n  }\n  return false;\n}\n","import validCreditCard from \"./luhn-algorithm\";\nimport checkCard from \"./check-card\";\n\nexport default class ChooseCard {\n  constructor(parent) {\n    this.form = parent.querySelector(\".widget-form\");\n    this.input = parent.querySelector(\".widget-form__input\");\n    this.text = parent.querySelector(\".widget-text\");\n    this.cards = Array.from(parent.querySelectorAll(\".widget__card \"));\n  }\n\n  submitForm() {\n    this.form.addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      if (validCreditCard(this.input.value)) {\n        this.text.textContent = \"Валидное значение\";\n      } else {\n        this.text.textContent = \"Невалидное значение\";\n      }\n    });\n  }\n\n  checkInput() {\n    this.input.addEventListener(\"input\", () => {\n      this.text.textContent = \"\";\n      const result = checkCard(this.input.value);\n      if (result) {\n        this.showCard(result);\n      } else {\n        this.removeDisabled();\n      }\n    });\n  }\n\n  showCard(result) {\n    this.cards.forEach((card) => {\n      if (!card.classList.contains(result)) {\n        card.classList.add(\"cdisabled\");\n      }\n    });\n  }\n\n  removeDisabled() {\n    this.cards.forEach((card) => {\n      card.classList.remove(\"cdisabled\");\n    });\n  }\n}\n","import ChooseCard from \"./chooseCard\";\n\nconst chooseCard = new ChooseCard(document.body);\nconsole.log(chooseCard);\nchooseCard.submitForm();\nchooseCard.checkInput();\n","import \"./css/style.css\";\n\nimport \"./js/app\";\n"],"names":["validCreditCard","value","test","nCheck","bEven","replace","n","length","cDigit","charAt","nDigit","parseInt","checkCard","code","startsWith","ChooseCard","constructor","parent","form","querySelector","input","text","cards","Array","from","querySelectorAll","submitForm","addEventListener","event","preventDefault","textContent","checkInput","result","showCard","removeDisabled","forEach","card","classList","contains","add","remove","chooseCard","document","body","console","log"],"sourceRoot":""}